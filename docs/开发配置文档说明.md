æ²¡é—®é¢˜ã€‚è¿™ä»½æ˜¯ç»è¿‡â€œæçº¯â€çš„ã€**ä»…é’ˆå¯¹ Windows æœ¬åœ°å¼€å‘**çš„é…ç½®æ–‡æ¡£ã€‚

å»æ‰äº† iPadã€Tailscale ç­‰æš‚æ—¶ä¸ç”¨çš„å¹²æ‰°é¡¹ï¼Œåªä¸“æ³¨äºè®©ä½ åœ¨å½“å‰è¿™å°ç”µè„‘ä¸ŠæŠŠ **PodFlow** è·‘èµ·æ¥ã€‚ä½ å¯ä»¥æŠŠè¿™ä»½æ–‡æ¡£ä¿å­˜åœ¨ä½ çš„ç¬”è®°è½¯ä»¶é‡Œï¼Œä½œä¸ºé¡¹ç›®çš„â€œå¯åŠ¨æ‰‹å†Œâ€ã€‚

---

# ğŸ’» PodFlow å¼€å‘ç¯å¢ƒé…ç½®æ‰‹å†Œ (Windows ä¸“ç‰ˆ)

**ç›®æ ‡ï¼š** åœ¨ Windows ç”µè„‘ä¸Šæ­å»ºåŸºäº **React (å‰ç«¯)** + **Python (åç«¯)** + **Whisper (AI)** çš„å¼€å‘ç¯å¢ƒã€‚

---

### ç¬¬ä¸€é˜¶æ®µï¼šå®‰è£…åŸºç¡€è½¯ä»¶ (å¿…è£…)

è¿™äº›è½¯ä»¶æ˜¯å¼€å‘çš„åŸºçŸ³ï¼Œè£…ä¸€æ¬¡æ°¸ä¹…æœ‰æ•ˆã€‚

#### 1. Node.js (å‰ç«¯è¿è¡Œç¯å¢ƒ)

* **ä¸‹è½½ï¼š** [Node.js å®˜ç½‘ (LTSç‰ˆæœ¬)](https://nodejs.org/)
* **å®‰è£…ï¼š** ä¸‹è½½å·¦è¾¹çš„ **LTS** ç‰ˆæœ¬ï¼Œä¸€è·¯ç‚¹å‡» "Next" å®‰è£…ã€‚
* **éªŒè¯ï¼š** æ‰“å¼€ PowerShell (ç»ˆç«¯)ï¼Œè¾“å…¥ `node -v`ã€‚
* *æˆåŠŸæ ‡å‡†ï¼šæ˜¾ç¤º v18.x.x æˆ–æ›´é«˜ã€‚*

* **ä¾èµ–** ï¼šæŒ‰ç…§è¯´æ˜æ‰‹åŠ¨å®‰è£…ï¼Œä¸è¦ç”¨chocolateyï¼Œå®¹æ˜“åœ¨è‡ªå·±ç”µè„‘ä¸Šå†²çªï¼›
https://github.com/nodejs/node-gyp?tab=readme-ov-file#on-windows

//è¿™æ˜¯ä¸€æ¡åˆ†å‰²çº¿
è¿™æ˜¯ä¸€ä»½ä¸ºæ‚¨æ•´ç†çš„ **Node.js å®‰è£…ä¸ç¯å¢ƒé…ç½®é¿å‘æŒ‡å—**ã€‚è¿™ä»½æ–‡æ¡£åŸºäºæ‚¨ä¹‹å‰çš„æ“ä½œç¯å¢ƒï¼ˆå·²å®‰è£… Python 3.13 å’Œ Visual Studio Build Tools 2022ï¼‰ï¼Œä¸“é—¨ä¸ºæ‚¨å®šåˆ¶ï¼Œæ—¨åœ¨é˜²æ­¢ç¯å¢ƒå†²çªå’Œåç»­æŠ¥é”™ã€‚

---

# Node.js å®‰è£…ä¸ç¯å¢ƒé…ç½®æŒ‡å— (Windows)

## 1. å‰ç½®ç¯å¢ƒæ£€æŸ¥ (Prerequisites)

åœ¨å®‰è£… Node.js ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²ç»æŒ‰ç…§ä¹‹å‰çš„æ­¥éª¤å‡†å¤‡å¥½äº†ä»¥ä¸‹â€œéšå½¢ä¾èµ–â€ã€‚è¿™äº›æ˜¯è¿è¡Œ Python è„šæœ¬å’Œç¼–è¯‘ Node.js åŸç”Ÿæ¨¡å—ï¼ˆC++ æ’ä»¶ï¼‰æ‰€å¿…é¡»çš„ã€‚

* **Python ç¯å¢ƒï¼š**
* **çŠ¶æ€ï¼š** ç¡®ä¿å·²å®‰è£… Python 3.13ï¼ˆç¨³å®šç‰ˆï¼‰ã€‚
* **æ³¨æ„ï¼š** å¦‚æœç”µè„‘é‡ŒåŒæ—¶å­˜åœ¨ Python 3.14ï¼ˆé¢„è§ˆç‰ˆï¼‰ï¼Œå»ºè®®ä»¥ 3.13 ä¸ºä¸»ï¼Œæˆ–è€…å¸è½½ 3.14ï¼Œä»¥å…å…¼å®¹æ€§é—®é¢˜ã€‚


* **C++ ç¼–è¯‘ç¯å¢ƒï¼š**
* **å·¥å…·ï¼š** Visual Studio Build Tools 2022ã€‚
* **ç»„ä»¶ï¼š** å¿…é¡»ä¸”åªéœ€å‹¾é€‰ **â€œä½¿ç”¨ C++ çš„æ¡Œé¢å¼€å‘â€ (Desktop development with C++)**ã€‚
* **é¿å‘ï¼š** ä¸éœ€è¦å‹¾é€‰ VS Installer é‡Œçš„â€œNode.js ç”Ÿæˆå·¥å…·â€ï¼Œé‚£æ˜¯ç»™ VS IDE ç”¨çš„ã€‚



## 2. ä¸‹è½½ä¸å®‰è£… (Installation)

è¯·åŠ¡å¿…éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼Œ**ä¸è¦ä½¿ç”¨ Chocolatey å®‰è£… Node.js**ï¼Œä»¥é¿å…ç‰ˆæœ¬ç®¡ç†æ··ä¹±ã€‚

* **ä¸‹è½½åœ°å€ï¼š** [Node.js å®˜ç½‘ (nodejs.org)](https://nodejs.org/zh-cn/download/prebuilt-installer)
* **ç‰ˆæœ¬é€‰æ‹©ï¼š**
* âœ… **LTS (é•¿æœŸæ”¯æŒç‰ˆ)** - *å¼ºçƒˆæ¨èï¼Œæœ€ç¨³å®šï¼Œé€‚åˆåˆå­¦è€…å’Œç”Ÿäº§ç¯å¢ƒã€‚*
* âŒ Current (æœ€æ–°ç‰ˆ) - *ä¸æ¨èï¼Œå¯èƒ½å­˜åœ¨æœªçŸ¥ Bugã€‚*


* **å®‰è£…è¿‡ç¨‹ä¸­çš„å…³é”®ä¸€æ­¥ (âš ï¸é‡è¦)ï¼š**
* å®‰è£…å‘å¯¼è¿è¡Œåˆ° **"Tools for Native Modules"** ç•Œé¢æ—¶ï¼Œä¼šè¯¢é—®æ˜¯å¦è‡ªåŠ¨å®‰è£… Chocolateyã€Python å’Œ Visual Studio Build Toolsã€‚
* ğŸ‘‰ **ç»å¯¹ä¸è¦å‹¾é€‰ï¼ (Do NOT check the box)**
* **åŸå› ï¼š** æ‚¨å·²ç»åœ¨ç¬¬ä¸€æ­¥æ‰‹åŠ¨é…ç½®å¥½äº†å®Œç¾çš„ Python å’Œ C++ ç¯å¢ƒã€‚å¦‚æœå‹¾é€‰æ­¤é¡¹ï¼Œå®‰è£…ç¨‹åºä¼šè¯•å›¾è¦†ç›–å®‰è£…ï¼Œæå¤§æ¦‚ç‡å¯¼è‡´ç¯å¢ƒå†²çªã€æŠ¥é”™æˆ–äº§ç”Ÿåƒåœ¾æ–‡ä»¶ã€‚



## 3. å¿…è¦çš„ç¯å¢ƒé…ç½® (Configuration)

å®‰è£…å®Œæˆåï¼Œæ‰“å¼€ PowerShell æˆ– CMDï¼Œæ‰§è¡Œä»¥ä¸‹ä¸¤æ¡å‘½ä»¤ã€‚è¿™èƒ½è§£å†³å›½å†…ä¸‹è½½æ…¢å’Œç¼–è¯‘å·¥å…·è·¯å¾„æŸ¥æ‰¾çš„é—®é¢˜ã€‚

### 3.1 é…ç½®å›½å†…é•œåƒæº (è§£å†³ä¸‹è½½å¡é¡¿/å¤±è´¥)

å°† npm çš„ä¸‹è½½åœ°å€åˆ‡æ¢åˆ°æ·˜å®é•œåƒï¼ˆnpmmirrorï¼‰ï¼š

```powershell
npm config set registry https://registry.npmmirror.com

```

*éªŒè¯å‘½ä»¤ï¼š* `npm config get registry` (åº”è¾“å‡º https://www.google.com/search?q=registry.npmmirror.com)


## 4. æœ€ç»ˆéªŒè¯ (Verification)

é‡æ–°æ‰“å¼€ä¸€ä¸ªæ–°çš„ PowerShell çª—å£ï¼Œä¾æ¬¡è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼Œå¦‚æœå‡èƒ½æ˜¾ç¤ºç‰ˆæœ¬å·ï¼Œè¯´æ˜ç¯å¢ƒå®Œç¾ã€‚

```powershell
node -v   # æŸ¥çœ‹ Node.js ç‰ˆæœ¬
npm -v    # æŸ¥çœ‹ npm åŒ…ç®¡ç†å™¨ç‰ˆæœ¬
python --version # ç¡®è®¤ Python ç‰ˆæœ¬

```

---

### ğŸ’¡ ä¸ºä»€ä¹ˆè¿™ä¹ˆåšï¼Ÿ

æ‚¨ç›®å‰çš„é…ç½®æ–¹æ¡ˆæ˜¯ **â€œæ‰‹åŠ¨ç®¡ç†ä¾èµ– + å®˜æ–¹å®‰è£…ä¸»ç¨‹åºâ€**ã€‚
ç›¸æ¯”äºå…¨è‡ªåŠ¨è„šæœ¬ï¼Œè¿™ç§æ–¹å¼æœ€å¹²å‡€ã€æœ€å¯æ§ã€‚ä»¥ååœ¨è¿›è¡Œ AI å¼€å‘æˆ–è¿è¡Œå¤æ‚é¡¹ç›®ï¼ˆå¦‚ PodFlowï¼‰æ—¶ï¼Œå¦‚æœé‡åˆ°éœ€è¦ç¼–è¯‘çš„åº“ï¼Œæ‚¨çš„ç³»ç»Ÿå·²ç»å…·å¤‡äº†å¤„ç†èƒ½åŠ›ï¼Œä¸ä¼šè«åå…¶å¦™æŠ¥é”™ã€‚



#### 2. Python (åç«¯è¿è¡Œç¯å¢ƒ)

* **ä¸‹è½½ï¼š** [Python å®˜ç½‘](https://www.python.org/downloads/)
* **å®‰è£…ï¼š** ä¸‹è½½æœ€æ–°çš„ 3.x ç‰ˆæœ¬ã€‚
* âš ï¸ **é‡è¦ï¼š** å®‰è£…ç¬¬ä¸€é¡µå¿…é¡»å‹¾é€‰åº•éƒ¨çš„ **"Add Python to PATH"** (æ·»åŠ åˆ°ç¯å¢ƒå˜é‡)ã€‚


* **éªŒè¯ï¼š** åœ¨ PowerShell è¾“å…¥ `python --version`ã€‚
* *æˆåŠŸæ ‡å‡†ï¼šæ˜¾ç¤º Python 3.x.xã€‚*



#### 3. Git (ä»£ç ç®¡ç†)

* **ä¸‹è½½ï¼š** [Git for Windows](https://git-scm.com/download/win)
* **å®‰è£…ï¼š** ä¸€è·¯é»˜è®¤ "Next"ã€‚
* **éªŒè¯ï¼š** åœ¨ PowerShell è¾“å…¥ `git --version`ã€‚

#### 4. FFmpeg (AIå¬å†™å¿…å¤‡ç»„ä»¶)

*Whisper æ¨¡å‹éœ€è¦å®ƒæ¥å¤„ç†éŸ³é¢‘ï¼Œè¿™æ˜¯æœ€å®¹æ˜“å‡ºé”™çš„ä¸€æ­¥ï¼Œè¯·ä»”ç»†æ“ä½œã€‚*

1. **ä¸‹è½½ï¼š** è®¿é—® [gyan.dev](https://www.gyan.dev/ffmpeg/builds/)ï¼Œä¸‹è½½ **"ffmpeg-git-full.7z"**ã€‚
2. **è§£å‹ï¼š** è§£å‹åï¼Œå°†æ–‡ä»¶å¤¹é‡å‘½åä¸º `ffmpeg`ï¼Œç§»åŠ¨åˆ°æŸä¸ªä¸å«ç©ºæ ¼çš„ç›®å½•ä¸‹ï¼ˆå¦‚è·¯å¾„åº”ä¸º `C:\ffmpeg`ï¼‰ã€‚
3. **é…ç½®å˜é‡ï¼š**
* æŒ‰ `Win` é”®æœç´¢ "ç¼–è¾‘ç³»ç»Ÿç¯å¢ƒå˜é‡" -> ç‚¹å‡» "ç¯å¢ƒå˜é‡"ã€‚
* åœ¨ä¸‹æ–¹çš„ **"ç³»ç»Ÿå˜é‡"** é‡Œæ‰¾åˆ° **Path**ï¼ŒåŒå‡»ã€‚
* ç‚¹å‡» "æ–°å»º"ï¼Œå¡«å…¥ï¼š`C:\ffmpeg\bin`
* ä¸€è·¯ç¡®å®šä¿å­˜ã€‚


4. **éªŒè¯ï¼š** **é‡å¯** PowerShellï¼Œè¾“å…¥ `ffmpeg -version`ã€‚
* *æˆåŠŸæ ‡å‡†ï¼šæ˜¾ç¤ºä¸€å¤§ä¸²ç‰ˆæœ¬ä¿¡æ¯ï¼Œæ— æŠ¥é”™ã€‚*



---

### ç¬¬äºŒé˜¶æ®µï¼šåˆå§‹åŒ–é¡¹ç›®ç»“æ„

æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ª **Monorepo** ç»“æ„ï¼ŒæŠŠå‰åç«¯æ”¾åœ¨ä¸€èµ·ã€‚

1. **æ–°å»ºæ–‡ä»¶å¤¹ï¼š**
åœ¨ä½ çš„ç¡¬ç›˜ï¼ˆå¦‚ D ç›˜ï¼‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹åä¸º `PodFlow`ã€‚
2. **æ‰“å¼€ç¼–è¾‘å™¨ï¼š**
å³é”®ç‚¹å‡»è¯¥æ–‡ä»¶å¤¹ -> é€‰æ‹© **"Open with Cursor"** (ç”¨ Cursor æ‰“å¼€)ã€‚
3. **åˆ›å»ºå­ç›®å½•ï¼š**
åœ¨ Cursor çš„ç»ˆç«¯ï¼ˆCtrl + `ï¼‰é‡Œæ‰§è¡Œï¼š
```powershell
mkdir backend
mkdir frontend

```



---

### ç¬¬ä¸‰é˜¶æ®µï¼šåç«¯é…ç½® (Python FastAPI)

1. **è¿›å…¥åç«¯ç›®å½•ï¼š**
```powershell
cd backend

```


2. **åˆ›å»ºè™šæ‹Ÿç¯å¢ƒï¼š**
*(è¿™èƒ½é˜²æ­¢ä¾èµ–å†²çªï¼Œç›¸å½“äºç»™é¡¹ç›®ç©¿äº†ä¸€å±‚é˜²æŠ¤æœ)*
```powershell
python -m venv venv

```


3. **æ¿€æ´»ç¯å¢ƒï¼š**
```powershell
.\venv\Scripts\activate

```


*çœ‹åˆ°å‘½ä»¤è¡Œå‰é¢å‡ºç° `(venv)` å°±ç®—æˆåŠŸã€‚*
4. **å®‰è£…æ ¸å¿ƒåº“ï¼š**
*(å®‰è£… FastAPI, Uvicorn, SQLAlchemy, Whisper å’Œ multipart)*
```powershell
pip install fastapi uvicorn sqlalchemy openai-whisper python-multipart

```

*TODO whisper å…ˆæ”¾ç€ï¼Œåé¢å†åŠ ä¸Šï¼›
*æ³¨ï¼šWhisper æ¯”è¾ƒå¤§ï¼Œä¸‹è½½å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿã€‚*

---

### ç¬¬å››é˜¶æ®µï¼šå‰ç«¯é…ç½® (React + MUI)

1. **æ–°å»ºç»ˆç«¯ï¼š** ç‚¹å‡» Cursor ç»ˆç«¯å³ä¸Šè§’çš„ `+` å·ã€‚
2. **åˆå§‹åŒ– Viteï¼š**
*(ç¡®ä¿ä½ åœ¨ PodFlow æ ¹ç›®å½•ä¸‹)*
```powershell
npm create vite@latest frontend -- --template react

```


*(å¦‚æœæœ‰æç¤ºï¼Œè¾“å…¥ y å›è½¦)*
3. **è¿›å…¥å‰ç«¯ç›®å½•å¹¶å®‰è£…åŸºç¡€ä¾èµ–ï¼š**
```powershell
cd frontend
npm install

```


4. **å®‰è£… UI åº“å’Œè¯·æ±‚åº“ï¼š**
```powershell
# å®‰è£… MUI (ç»„ä»¶åº“)
npm install @mui/material @emotion/react @emotion/styled @mui/icons-material

# å®‰è£… Axios (è¯·æ±‚åº“)
npm install axios

```

## 5. æµ‹è¯•æ¡†æ¶å®‰è£…
### ğŸš€ å¦‚ä½•è½åœ° TDD ç¯å¢ƒï¼Ÿ(Action Items)

ä½ éœ€è¦è¡¥å……å®‰è£…ä¸€äº›æµ‹è¯•å·¥å…·åº“ã€‚è¯·æ‰“å¼€ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š

#### 1. åç«¯ (Python) è¡¥å……å®‰è£…

```powershell
cd backend
.\venv\Scripts\activate
# å®‰è£… pytest (æµ‹è¯•æ¡†æ¶) å’Œ httpx (ç”¨äºåœ¨æµ‹è¯•ä¸­å‘é€è¯·æ±‚)
pip install pytest httpx

```

#### 2. å‰ç«¯ (React) è¡¥å……å®‰è£…

```powershell
cd frontend
# å®‰è£… Vitest åŠå…¶é…å¥—
npm install -D vitest jsdom @testing-library/react @testing-library/jest-dom @testing-library/user-event

```



---

### ç¬¬äº”é˜¶æ®µï¼šå†™å…¥æµ‹è¯•ä»£ç  (Hello World)

ä¸ºäº†ç¡®ä¿ä¸€åˆ‡å·¥ä½œæ­£å¸¸ï¼Œæˆ‘ä»¬å†™å…¥ä¸¤æ®µæœ€ç®€å•çš„ä»£ç ã€‚

#### 1. åç«¯ä»£ç  (`backend/main.py`)

åœ¨ `backend` æ–‡ä»¶å¤¹ä¸‹æ–°å»º `main.py`ï¼Œç²˜è´´ï¼š

```python
from fastapi import FastAPI
from fastapi.middleware.cors import CORSMiddleware
import uvicorn

app = FastAPI()

# å…è®¸å‰ç«¯è·¨åŸŸè®¿é—®
app.add_middleware(
    CORSMiddleware,
    allow_origins=["*"], # å¼€å‘æ¨¡å¼å…è®¸æ‰€æœ‰
    allow_credentials=True,
    allow_methods=["*"],
    allow_headers=["*"],
)

@app.get("/")
def read_root():
    return {"message": "PodFlow åç«¯è¿æ¥æˆåŠŸï¼Whisper å¼•æ“å°±ç»ªã€‚"}

if __name__ == "__main__":
    uvicorn.run("main:app", host="127.0.0.1", port=8000, reload=True)

```

#### 2. å‰ç«¯ä»£ç  (`frontend/src/App.jsx`)

åœ¨ `frontend/src` æ–‡ä»¶å¤¹ä¸‹æ‰¾åˆ° `App.jsx`ï¼Œ**æ¸…ç©ºå¹¶ç²˜è´´**ï¼š

```jsx
import { useState } from 'react'
import axios from 'axios'
import { Button, Container, Typography, Card, Box } from '@mui/material'

function App() {
  const [msg, setMsg] = useState("")

  const testConnection = async () => {
    try {
      const res = await axios.get('http://127.0.0.1:8000/')
      setMsg(res.data.message)
    } catch (err) {
      alert("è¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥åç«¯æ˜¯å¦å¯åŠ¨")
    }
  }

  return (
    <Container maxWidth="sm" sx={{ mt: 8, textAlign: 'center' }}>
      <Typography variant="h4" gutterBottom>PodFlow å¼€å‘ç¯å¢ƒæ£€æµ‹</Typography>
      <Button variant="contained" onClick={testConnection}>ç‚¹å‡»æµ‹è¯•è¿æ¥</Button>
      {msg && (
        <Card sx={{ mt: 4, p: 2, bgcolor: '#e3f2fd' }}>
          <Typography color="primary">âœ… {msg}</Typography>
        </Card>
      )}
    </Container>
  )
}

export default App

```

---

### ç¬¬å…­é˜¶æ®µï¼šå¦‚ä½•å¯åŠ¨é¡¹ç›® (æ—¥å¸¸æ“ä½œ)

ä»¥åæ¯æ¬¡å¼€å‘ï¼Œä½ åªéœ€è¦åšè¿™ä¸¤æ­¥ï¼š

**1. å¯åŠ¨åç«¯ï¼š**

* æ‰“å¼€ç»ˆç«¯ -> `cd backend`
* `.\venv\Scripts\activate` (æ¿€æ´»ç¯å¢ƒ)
* `python main.py`
* *ç­‰å¾…æ˜¾ç¤ºï¼šUvicorn running on [http://127.0.0.1:8000*](https://www.google.com/search?q=http://127.0.0.1:8000)

**2. å¯åŠ¨å‰ç«¯ï¼š**

* æ–°å»ºç»ˆç«¯ -> `cd frontend`
* `npm run dev`
* *ç­‰å¾…æ˜¾ç¤ºï¼šLocal: http://localhost:5173/*

**3. æµè§ˆå™¨è®¿é—®ï¼š**

* æ‰“å¼€æµè§ˆå™¨è¾“å…¥ `http://localhost:5173/`ï¼Œç‚¹å‡»æŒ‰é’®ï¼Œå¦‚æœçœ‹åˆ°ç»¿è‰²å¯¹å‹¾å’ŒæˆåŠŸæ¶ˆæ¯ï¼Œé…ç½®å³å‘Šå®Œæˆï¼